<div>
  <button class="btn btn-primary" (click)="addPage()">Add Page</button>
  <div class="pull-right" *ngIf="allPages.length > 0">
    <button class="btn btn-primary ml-3" (click)="exportFieldConfigs()">Export Field Configs</button>
    <button class="btn btn-primary ml-4" (click)="exportPageConfigs()">Export Page Configs</button>
  </div>
</div>

<app-modal *ngIf="showAddPageModal" [title]="modalTitle" (close)="onModalClose()" size="md">
  <app-page-detail (modalClose)="onModalClose()" (pageDetails)="savePageDetails($event)"
    (removePageDetail)="removePageDetail()" [updatePageDetail]="updatePageDetail"></app-page-detail>
</app-modal>

<div style="padding-bottom: 2rem;">
  <ul class="nav nav-tabs mt-2">
    <li class="nav-item" *ngFor="let page of allPages;let i=index">
      <a class="nav-link" [ngClass]="page.activeStatus" href="#" (click)="showThisPage(i)">{{page.name}}
        <i class="fa fa-pencil" (click)="editPage(page)"></i>
      </a>
    </li>
  </ul>
  <div *ngFor="let page of allPages;let i=index" class="border-left border-right border-bottom">
    <app-page-config [hidden]="!page.show" [pageDetail]="page" (pageOrderUpdatedEvent)="pageOrderUpdated($event, i)"
      (pageNameChangeEvent)="pageNameUpdated($event, i)" (savePageEvent)="savePage(page)"></app-page-config>
  </div>
</div>

<button class="btn btn-warning" (click)="preview()">Preview pages</button>

<app-modal *ngIf="showPreview" (close)="onModalClose()">
  <app-preview-pages></app-preview-pages>
</app-modal>